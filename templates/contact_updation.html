{% extends 'dashboard.html' %}
{% block title %}Contact Updation{% endblock %}

{% block content %}
<h3 class='text-center text-muted mb-3'></h3>
<div class="container">




    <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f2f2;
      padding: 20px;
    }

    .container {
      max-width: 900px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
    }

    .form-group {
      margin-bottom: 10px;
    }

    input[type="text"], input[type="email"], input[type="tel"] {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      box-sizing: border-box;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    button {
      padding: 8px 14px;
      margin-top: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      color: white;
    }

    .btn-add {
      background-color: #28a745;
    }

    .btn-edit {
      background-color: #007bff;
    }

    .btn-delete {
      background-color: #dc3545;
    }

    .btn-save {
      background-color: #17a2b8;
    }

    .search-bar {
      margin: 15px 0;
    }

    .search-bar input {
      width: 100%;
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    table {
      width: 100%;
      margin-top: 15px;
      border-collapse: collapse;
    }

    table, th, td {
      border: 1px solid #ddd;
    }

    th, td {
      padding: 10px;
      text-align: left;
    }

    .actions button {
      margin-right: 5px;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>Contact List</h2>

  <div class="form-group">
    <label>Name:</label>
    <input type="text" id="name" placeholder="Enter name">
  </div>

  <div class="form-group">
    <label>Mobile:</label>
    <input type="tel" id="mobile" placeholder="Enter mobile number">
  </div>

  <div class="form-group">
    <label>Email:</label>
    <input type="email" id="email" placeholder="Enter email">
  </div>

  <button class="btn-add" onclick="addContact()">Add Contact</button>

  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search by name..." onkeyup="searchContact()">
  </div>

  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Mobile</th>
        <th>Email</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="contactList">
      <!-- Contact rows will appear here -->
    </tbody>
  </table>
</div>

<script>
  let contacts = [];
  let editingIndex = -1;

  function addContact() {
    const name = document.getElementById("name").value.trim();
    const mobile = document.getElementById("mobile").value.trim();
    const email = document.getElementById("email").value.trim();

    if (!name || !mobile || !email) {
      alert("Please fill out all fields.");
      return;
    }

    if (editingIndex === -1) {
      contacts.push({ name, mobile, email });
    } else {
      contacts[editingIndex] = { name, mobile, email };
      editingIndex = -1;
      document.querySelector(".btn-add").textContent = "Add Contact";
    }

    resetForm();
    renderContacts();
  }

  function editContact(index) {
    const contact = contacts[index];
    document.getElementById("name").value = contact.name;
    document.getElementById("mobile").value = contact.mobile;
    document.getElementById("email").value = contact.email;
    editingIndex = index;
    document.querySelector(".btn-add").textContent = "Save Changes";
  }

  function deleteContact(index) {
    if (confirm("Are you sure you want to delete this contact?")) {
      contacts.splice(index, 1);
      renderContacts();
    }
  }

  function renderContacts() {
    const list = document.getElementById("contactList");
    list.innerHTML = "";

    contacts.forEach((contact, index) => {
      const row = document.createElement("tr");

      row.innerHTML = `
        <td>${contact.name}</td>
        <td>${contact.mobile}</td>
        <td>${contact.email}</td>
        <td class="actions">
          <button class="btn-edit" onclick="editContact(${index})">Edit</button>
          <button class="btn-delete" onclick="deleteContact(${index})">Delete</button>
        </td>
      `;

      list.appendChild(row);
    });
  }

  function searchContact() {
    const input = document.getElementById("searchInput").value.toLowerCase();
    const rows = document.getElementById("contactList").getElementsByTagName("tr");

    Array.from(rows).forEach(row => {
      const name = row.cells[0].textContent.toLowerCase();
      if (name.includes(input)) {
        row.style.display = "";
      } else {
        row.style.display = "none";
      }
    });
  }

  function resetForm() {
    document.getElementById("name").value = "";
    document.getElementById("mobile").value = "";
    document.getElementById("email").value = "";
  }
</script>

</body>
</html>





</div>



{% endblock %}